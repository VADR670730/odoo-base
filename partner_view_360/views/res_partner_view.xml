<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
  <record id="view_partner_form" model="ir.ui.view">

    <field name="name">res.partner.form.inherit.view_360</field>

    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_form" />
    <field name="arch" type="xml"> 

     <!-- TODO: 
     
      vid sökning heter administrative officer (user_id) fortfarande säljare, kanske ska ändra genom 
      en translation fil eller på liknande sätt så att alla instanser av säljare blir till handläggare
      alternativt byta ut fältet helt.

      borde ändra implementering, administrative officer bör vara eget fält, medan user_id är gömd, men används för annat.
      -->   
      <field name="function" position="after"> 
        <field name="work_phone"/>
      </field>
      <xpath expr="//group[@name='sale']/field[@name='user_id']" position="attributes">
        <attribute name="string">Administrative officer</attribute>
      </xpath>
      <field name="type" position="before">   
       <!-- behåll ifall det behövs i framtiden -->
        <!-- <span>
        <label for="org_or_social_sec_nr" string="Organization number" attrs="{'invisible':[('is_company', '=', False)]}"/>
        <label for="org_or_social_sec_nr" string="Social security number" attrs="{'invisible':[('is_company', '=', True)]}"/>
        </span> -->
        <field name="company_registry" /> 
        <field name="cfar" attrs="{'invisible':[('is_company', '=', False)]}"/>
      </field>
    
      <field name="barcode" position="after">
        <field name="office" options="{'no_create_edit': True}" domain="[('type', '=', 'af office')]"/>
        <field name="my_office_code" />
        <field name="is_jobseeker" />
        <field name="is_independent_partner" />
        <field name="is_government" />
        <field name="is_employer" />
        <field name="type"/>
      </field>
      <!-- endast för om is_customer är true-->
      <field name="vat" position="after">
        <field name="customer_id" attrs="{'invisible':[('customer', '=', False)]}"/> 
        <field name="office_code" attrs="{'invisible':[('type', '!=', 'af office')]}"/>
      </field>
      <field name="vat" position="attributes">
        <attribute name="invisible">1</attribute>
      </field>
      <field name="barcode" position="attributes"> 
        <attribute name="invisible">1</attribute>
      </field>
       <xpath expr="//page[@name='internal_notes']" position="after" >
                <page string="Jobseeker info" attrs="{'invisible':[('customer', '=', False)]}">
                    <group>
                    <group>
                      <field name="jobseeker_category" /> 
                      <field name="customer_since" /> 
                      <field name="jobseeker_work" attrs="{'invisible':[('is_company', '=', True)]}"/> 
                    </group>   
                    <group>
                      <field name="deactualization_date" />    
                      <field name="deactualization_reason" />    
                      <field name="foreign_country_of_work" /> 
                      <field name="deactualization_message" />   
                    </group>   
                    </group>
                </page>
            </xpath>
    </field>
  </record>


 <!-- endast när account är installerad
   <record id="view_partner_property_form_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.property.form.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="account.view_partner_property_form" /> 
    <field name="arch" type="xml"> 
       <xpath expr="//group[@name='fiscal_information']" position="attributes">
         <attribute name="invisible">1</attribute>
      </xpath> 

        <xpath expr="//page[@name='accounting']" position="attributes">
         <attribute name="invisible">1</attribute>
      </xpath> 
    </field>
  </record>
-->
  <record id="view_partner_tree" model="ir.ui.view"> 
    <field name="name">res.partner.view.tree.inherit.view_360</field>      
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_tree" /> 
    <field name="arch" type="xml"> 
      <xpath expr="/tree" position="inside">
        <field name="customer_id"/>
      </xpath>
    </field>
  </record>

  <record id="view_partner_select_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.view.select.inherit.view_360</field>           
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_res_partner_filter" /> 
    <field name="arch" type="xml"> 
      <xpath expr="//field[@name='user_id']" position="after"> 
        <field name="customer_id" />         <!-- filter_domain="[('customer','=',True), ('parent_id', '=', False)]" --> <!-- kommenterad för att jag inte har någon customer, behöver testas -->
        <filter string="Job seekers" name="is_jobseeker" domain="[('is_jobseeker','=',True)]"/> 
        <filter string="Employers" name="is_employer" domain="[('is_employer','=',True)]"/>
        <filter string="Government body" name="is_government" domain="[('is_government','=',True)]"/>
        <filter string="Independent partners" name="is_independent_partner" domain="[('is_independent_partner','=',True)]"/>
      </xpath>
    </field>
  </record>
  

    <record id="view_partner_form_education" model="ir.ui.view"> 
        <field name="name">res.partner.eduacation.form</field> 
        <field name="model">res.partner</field> 
        <field name="inherit_id" ref="base.view_partner_form" /> 
        <field name="arch" type="xml"> 
            <xpath expr="//page[@name='internal_notes']" position="after">
                <page name="education" string="Education" > 
                    <group>
                        <field name="sun_id" options="{'no_create_edit': True}"/> 
                        <field name="education_level"/>
                        <field name="foreign_education"/>
                        <field name="foreign_education_approved"/>
                        <field name="has_drivers_license"/>
                        <field name="drivers_license_id" options="{'no_create_edit': True}"/> 
                        <field name="has_car"/>
                    </group>
                </page>
            </xpath>
        </field>
     </record>

       <!-- <record id="view_partner_form" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.drivers_license</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <xpath expr="//page[@name='education']/group" position="inside">
             
            </xpath> 
        </field>
    </record> -->

  <record id="view_partner_jobseeker_form" model="ir.ui.view">
    <field name="name">res.partner.form.jobseeker</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml"> 
      <form string="Jobseeker">
      <sheet>
      <div class="oe_button_box" name="button_box">
        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
          <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
        </button>
      </div>
      <div class="oe_title">
        <h1>
          <field name="name" default_focus="1" placeholder="Name" attrs="{'required' : [('type', '=', 'contact')]}"/>
        </h1>
      </div>
      <group>
        <group string="Personal Information">
          <field name="parent_id" attrs="{'invisible' : True}"/>
          <field name="type" attrs="{'invisible' : True}"/>
          <label for="company_registry" string="Social security number"/>
          <field name="company_registry" nolabel="1"/>
          <field name="age"/>
          <field name="customer_id"/> 
          
          <!-- folkbokföringsadress, alternativt göra en res partner typ-->

          <field name="state_id" class="o_address_state" placeholder="State"/>
          <label for="street" string="Address"/>
          <div class="o_address_format"> 
              <field name="street" placeholder="Street..." class="o_address_street" />
              <field name="zip" placeholder="ZIP" class="o_address_zip"/>
              <field name="city" placeholder="City" class="o_address_city"/>
          </div>

          <field name="street2" placeholder="Street 2..." class="o_address_street" attrs="{'invisible': True}"/>
          <field name="country_id" placeholder="Country" class="o_address_country" attrs="{'invisible': True}"/>


          <label for="postal_address_street" string="Postal address"/>
          <div class="o_address_format"> 
              <field name="postal_address_street" placeholder="Street..." class="o_address_street" />
              <field name="postal_address_zip" placeholder="ZIP" class="o_address_zip"/>
              <field name="postal_address_city" placeholder="City" class="o_address_city"/>
          </div>
          <field name="postal_address_id" domain="[('type', '=', 'postal address')]" attrs="{'invisible': True}"/>
          
          <field name="phone"/>
          <field name="mobile"/>
          <field name="email"/>
        </group>
        <group string="Employment service information">
          <field name="registered_through"/>
          <field name="jobseeker_category"/>
          <field name="customer_since"/>
          <field name="office" options="{'no_create_edit': True}" domain="[('type', '=', 'af office')]"/>
          <field name="share_info_with_employers"/> 
          <field name="sms_reminders"/>
        </group>
      </group>
      <notebook>
        <page name="apply_for_jobs" string="Apply for jobs">
                  
        </page>
      </notebook>
      </sheet>
      </form>

    </field>
  </record> 


  <record model="ir.ui.view" id="view_jobseeker_kanban">
            <field name="name">res.partner.jobseeker.kanban</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <kanban class="o_res_partner_kanban">
                  <field name="name"/>
                  <field name="city"/>
                  <field name="email"/>
                  <field name="office"/>
                    <templates>
                      <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="oe_kanban_details">
                                <strong class="o_kanban_record_title">
                                    <field name="name"/>
                                </strong>
                                <div class="o_kanban_tags_section">
                                    <ul>
                                        <li>  <field name="city"/> </li>
                                        <li>  <field name="email"/> </li> 
                                         <li> <field name="office"/> </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                    </templates>
                </kanban>
            </field>
        </record>

    <record id="action_jobseekers" model="ir.actions.act_window">
        <field name="name">Jobseekers Action</field>
        <!-- <field name="type">ir.actions.act_window</field> -->
        <field name="res_model">res.partner</field>
        <!-- <field name="view_type">form</field> -->
        <field name="view_mode">kanban,tree,form,activity</field>
        <field name="search_view_id" ref="base.view_res_partner_filter"/>
        <field name="help" type="html">
        <field name="view_id" ref="view_jobseeker_kanban"/>
          <p class="o_view_nocontent_smiling_face">
            Create a jobseeker in your address book
          </p>
        </field>
        <field name="domain" eval="[('is_jobseeker', '=', True)]"/>
    </record>

   <record id="action_jobseeker_form_view" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_partner_jobseeker_form"/>
            <field name="act_window_id" ref="action_jobseekers"/>
        </record>
 <record id="action_jobseeker_kanban_view" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="view_jobseeker_kanban"/>
            <field name="act_window_id" ref="action_jobseekers"/>
        </record>
      

    <menuitem id="res_partner_jobseekers_menu"
        name="Jobseekers"
        action="action_jobseekers"
        sequence="4"/>

        <menuitem id="res_partner_jobseekers_config_menu" parent="res_partner_jobseekers_menu" name="Configuration" sequence="0" /> <!--base group no one-->

        <menuitem id="menu_ssyk_config" parent="res_partner_jobseekers_config_menu" action="res_ssyk.action_ssyk_form" sequence="2" />
        <menuitem id="menu_sun_config" parent="res_partner_jobseekers_config_menu" action="res_sun.action_sun_form" sequence="3" />
        <menuitem id="menu_sni_config" parent="res_partner_jobseekers_config_menu" action="res_sni.action_sni_form" sequence="1" />
        <menuitem id="menu_drivers_license_config" parent="res_partner_jobseekers_config_menu" action="res_drivers_license.action_drivers_license_form" sequence="4" />


 <record id="view_partner_form_education1" model="ir.ui.view"> 
        <field name="name">res.partner.eduacation.form1</field> 
        <field name="model">res.partner</field> 
        <field name="inherit_id" ref="view_partner_jobseeker_form" /> 
        <field name="arch" type="xml"> 
            <xpath expr="//page[@name='apply_for_jobs']" position="inside">
                <page name="education" string="Education" > 
                    <group>
                        <field name="sun_id" options="{'no_create_edit': True}"/> 
                        <field name="education_level"/>
                        <field name="foreign_education"/>
                        <field name="foreign_education_approved"/>
                        <field name="has_drivers_license"/>
                        <field name="drivers_license_id" options="{'no_create_edit': True}"/> 
                        <field name="has_car"/>
                    </group>
                </page>
            </xpath>
        </field>
     </record>

      <record id="view_partner_employer_form" model="ir.ui.view">
    <field name="name">res.partner.form.employer</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml"> 
      <form string="employer">
      <sheet>
      <div class="oe_button_box" name="button_box">
        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
          <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
        </button>
      </div>
      <div class="oe_title">
        <h1>
          <field name="name" default_focus="1" placeholder="Name" attrs="{'required' : [('type', '=', 'contact')]}"/>
        </h1>
      </div>
      <group>
        <group string="Employer info">
          <field name="parent_id" attrs="{'invisible' : True}"/>
          <field name="type" attrs="{'invisible' : True}"/>
          <field name="company_registry"/>
          <field name="customer_id"/> 
          
          <field name="state_id" class="o_address_state" placeholder="State"/>
          <label for="street" string="Address"/>
          <div class="o_address_format"> 
              <field name="street" placeholder="Street..." class="o_address_street"/>
              <field name="city" placeholder="City" class="o_address_city"/>
              <field name="zip" placeholder="ZIP" class="o_address_zip"/>
          </div>

          <field name="street2" placeholder="Street 2..." class="o_address_street" attrs="{'invisible': True}"/>
          <field name="country_id" placeholder="Country" class="o_address_country" attrs="{'invisible': True}"/>


          <label for="postal_address_street" string="Postal address"/>
          <div class="o_address_format"> 
              <field name="postal_address_street" placeholder="Street..." class="o_address_street" />
              <field name="postal_address_zip" placeholder="ZIP" class="o_address_zip"/>
              <field name="postal_address_city" placeholder="City" class="o_address_city"/>
          </div>
          <field name="postal_address_id" domain="[('type', '=', 'postal address')]" groups="base.group_no_one"/> 
          
          <field name="phone"/>
          <field name="mobile"/>
          <field name="email"/>
        </group>
        <group string="Employment service information">
          <field name="customer_since"/>
          <field name="office" options="{'no_create_edit': True}" domain="[('type', '=', 'af office')]"/>
        </group>
      </group>
      <notebook>
        <!-- <page name="" string="">
                  
        </page> -->
      </notebook>
      </sheet>
      </form>

    </field>
  </record> 


  <record model="ir.ui.view" id="view_employer_kanban">
            <field name="name">res.partner.employer.kanban</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <kanban class="o_res_partner_kanban">
                  <field name="name"/>
                  <field name="city"/>
                  <field name="email"/>
                  <field name="office"/>
                    <templates>
                      <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="oe_kanban_details">
                                <strong class="o_kanban_record_title">
                                    <field name="name"/>
                                </strong>
                                <div class="o_kanban_tags_section">
                                    <ul>
                                        <li>  <field name="city"/> </li>
                                        <li>  <field name="email"/> </li> 
                                         <li> <field name="office"/> </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                    </templates>
                </kanban>
            </field>
        </record>

         <!-- <record id="action_employers" model="ir.actions.act_window">
    <field name="name">Employers Action</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">res.partner</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form,activity</field>
    <field name="search_view_id" ref="base.view_res_partner_filter"/>
    <field name="help" type="html">
      <p class="o_view_nocontent_smiling_face">
        Create an employer in your address book
      </p>
    </field>
    <field name="domain" eval="[('is_employer', '=', True)]"/>
  </record>

  <menuitem id="res_partner_employers_menu"
        name="Employers"
        action="action_employers"
        sequence="4"/> -->

    <record id="action_employers" model="ir.actions.act_window">
        <field name="name">Employers Action</field>
        <!-- <field name="type">ir.actions.act_window</field> -->
        <field name="res_model">res.partner</field>
        <!-- <field name="view_type">form</field> -->
        <field name="view_mode">kanban,tree,form,activity</field>
        <field name="search_view_id" ref="base.view_res_partner_filter"/>
        <field name="help" type="html">
        <field name="view_id" ref="view_employer_kanban"/>
          <p class="o_view_nocontent_smiling_face">
            Create a employer in your address book
          </p>
        </field>
        <field name="domain" eval="[('is_employer', '=', True)]"/>
    </record>

   <record id="action_employer_form_view" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_partner_employer_form"/>
            <field name="act_window_id" ref="action_employers"/>
        </record>
 <record id="action_employer_kanban_view" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="view_employer_kanban"/>
            <field name="act_window_id" ref="action_employers"/>
        </record>
      

    <menuitem id="res_partner_employers_menu"
        name="Employers"
        action="action_employers"
        sequence="3"/>

        <menuitem id="res_partner_employers_config_menu" parent="res_partner_employers_menu" name="Configuration" sequence="0" /> <!--base group no one-->

        <menuitem id="menu_ssyk_config" parent="res_partner_employers_config_menu" action="res_ssyk.action_ssyk_form" sequence="2" />
        <menuitem id="menu_sni_config" parent="res_partner_employers_config_menu" action="res_sni.action_sni_form" sequence="1" />

        <!--

    form view
    
    h1 name button box
    
    group 

    group

    personuppgifter
    personnummer (ålder)
    kundnummer
    kommun
    folkbokföringsadress
    postadress
    telefon
    mobil
    epost
    /group

    group

    arbetsförmedlingens uppgifter
    inskriven via (saknas)
    sökandekategori 
    arbetssökande sedan
    kontor
    namn och adress får lämnas till arbetsgivare (saknas, boolean)
    sms-påminnelser (saknas, boolean)
    /group
    /group

    page Fördjupade uppgifter (framtida)

    antal dagar i JOB/UGA 
    funktionshinderkod 
    Elin 
    /page

    page Daganteckningar
    /page

    page söka arbete

    önskade yrken -> ärvs in hit från partner_desired_jobs
    erfarenhet (saknas)
    utbildning -> beroende behövs
    körkort -> beroende behövs
    /page

    page aktiviteter (behöver bättre spec)

    aktiviteter i planeringsverktyget
    aktiviteter i BÄR
    /page

-->

</odoo>
